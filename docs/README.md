# ScratchMirror

ScratchMirror 是一个高性能、安全且可靠的 Scratch API 代理服务，旨在提供更快速、更稳定的 Scratch 平台资源访问体验。本项目通过缓存机制、限速保护和安全增强，为开发者和用户提供了一个可靠的 Scratch API 镜像服务。

## 项目特点

### 高性能缓存
- **多级缓存架构**：结合内存缓存和数据库缓存，大幅提升响应速度
- **智能缓存策略**：针对不同资源类型（项目、用户、缩略图、头像等）采用差异化缓存策略
- **自动过期机制**：缓存项自动过期更新，确保数据时效性
- **缓存监控**：实时监控缓存命中率和性能指标
- **缓存预热**：支持系统启动时预加载热门资源，提升首次访问速度

### 智能限速保护
- **多维度限速**：支持基于 IP、用户和 API 端点的多维度限速
- **差异化策略**：为不同 API 端点设置不同的限速规则
- **友好提示**：限速时提供清晰友好的错误信息和恢复建议
- **动态调整**：支持根据系统负载动态调整限速策略
- **限速监控**：提供详细的限速统计和监控功能

### 安全增强
- **严格的 CORS 策略**：精确控制跨域资源访问权限
- **请求验证与清洁**：全面验证和清洁请求参数，防止注入攻击
- **统一错误处理**：规范化错误响应，避免敏感信息泄露
- **完善的日志记录**：详细记录请求和错误信息，支持安全审计
- **环境变量管理**：安全规范的环境配置管理

### 开发友好
- **现代化代码结构**：采用模块化设计和最佳实践
- **代码质量保障**：集成 ESLint 和 Prettier 确保代码质量和一致性
- **完善的文档**：提供详细的 API 文档、部署指南和贡献指南
- **健康检查和监控**：内置健康检查端点和性能监控功能

## 技术栈

- **运行环境**：Node.js
- **Web 框架**：Express.js
- **HTTP 客户端**：Axios
- **数据库**：MySQL (通过 Prisma ORM)
- **缓存**：自定义内存缓存 + 数据库缓存
- **监控**：OpenTelemetry + Axiom
- **代码质量**：ESLint + Prettier
- **容器化**：Docker + Docker Compose

## 快速开始

请参阅 [部署指南](./deployment.md) 了解如何部署和运行 ScratchMirror。

## API 文档

详细的 API 使用说明请参阅 [API 文档](./api.md)。

## 贡献指南

我们欢迎社区贡献，请查看 [贡献指南](./contributing.md) 了解如何参与项目开发。

## 许可证

本项目采用 MIT 许可证，详情请参阅 [LICENSE](../LICENSE) 文件。
